(function(e){function t(t){for(var i,s,o=t[0],l=t[1],u=t[2],d=0,h=[];d<o.length;d++)s=o[d],a[s]&&h.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);c&&c(t);while(h.length)h.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],i=!0,o=1;o<r.length;o++){var l=r[o];0!==a[l]&&(i=!1)}i&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var i={},a={1:0},n=[];function s(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=i,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(r,i,function(t){return e[t]}.bind(null,i));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;n.push([2,0]),r()})({2:function(e,t,r){e.exports=r("zUnb")},AbHP:function(e,t,r){"use strict";var i=r("TfDN"),a=r.n(i);a.a},EDI0:function(e,t,r){},TfDN:function(e,t,r){},ZL7j:function(e,t,r){"use strict";var i=r("EDI0"),a=r.n(i);a.a},zUnb:function(e,t,r){"use strict";r.r(t);r("VRzm");var i=r("Kw5r"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("h2",[e._v("PraMod")]),e._m(0),r("Generator")],1)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("b",[e._v("Realizētā funckionalitāte:")]),e._v('\n      Ar DSL var aprakstīt visu PraMod funkcionalitāti izņemot norādīt savstarpēji konfliktējošas prasības. Tiek uzģenerēts universāls JSONs, kurš strādā kā Javascript kods.\n      Likumi ir ļoti brīvi un tiem ir jāsatur tikai atslēgvārdi kā "Jauna prasībā" vai "Komandā prasībāi", ārpus šiem atslēgvārdiem var ievadīt brīvu tekstu. Strādā\n      hierarhiska vizualizācija, izdarītu procentu aprēķins, un detaļu apskatīšana kādai prasībai.\n    '),r("br"),r("b",[e._v("Strādājošie likumi:")]),e._v("\n      Modeļa likumi: nedrīkst būt saknes prasība tehniskā, Prasību likumi: jābūt atbildīgajam, jābūt piesķirti komandas locekļi.\n  ")])}],s=r("xmWZ"),o=r("3Aqn"),l=r("0yhX"),u=r("EdlT"),c=r("mrSG"),d=r("YKMj"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"left"},[r("h3",[e._v("DSL")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.dslText,expression:"dslText"}],attrs:{id:"dsl-area"},domProps:{value:e.dslText},on:{keyup:e.display,input:function(t){t.target.composing||(e.dslText=t.target.value)}}})]),r("div",{staticClass:"right"},[r("h3",[e._v("ĢENERĒTAIS JAVASCRIPT "),r("span",{staticClass:"small-toggle",on:{click:e.toggleVisual}},[e._v("Apskatīt kodu")])]),e.showTree?r("div",[r("div",[e._v("\r\n        Komandā:\r\n       "),r("ul",e._l(e.members,function(t){return r("li",{key:t},[e._v("\r\n          "+e._s(t)+"\r\n        ")])}))]),e._v("\r\n      Prasības:\r\n      "),r("v-treeview",{attrs:{treeTypes:e.treeTypes,openAll:e.openAll,contextItems:[]},on:{selected:e.selected},model:{value:e.treeData,callback:function(t){e.treeData=t},expression:"treeData"}}),e.infoBox?r("div",[e._v("\r\n        Izvēlētais:"),r("br"),r("br"),r("span",{domProps:{innerHTML:e._s(e.infoBox)}})]):e._e()],1):r("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.genText,expression:"genText",modifiers:{lazy:!0}}],class:[{"parser-error":e.isError},"read-only"],attrs:{id:"js-area",readonly:""},domProps:{value:e.genText},on:{change:function(t){e.genText=t.target.value}}})])])},m=[],p=r("qpph"),v=r("HE2x"),f=r.n(v),b="\n\nEs gribu, lai manā komandā ir 'Jānis'.\nUn protams arī komandā ir jābūt 'Pēteris'.\nKā arī komandā ir 'Liene'.\n\nJauna prasība '1231' 'Jāizveido DSL likumi ar regexiem'.\nParametri prasībai '1231' ir tādi ka 'KONFLIKTU NAV', tā ir 'TEHNISKĀ NAV', un progess ir '50'%.\nKomandā prasībai '1231' atbildīgais ir 'Jānis' un piešķirti ir 'Jānis, Liene'.\n\n\nJauna prasība '1232' 'Jāizveido DSL ģenerators'.\nParametri prasībai '1232' ir tādi ka 'KONFLIKTU NAV', tā ir 'TEHNISKĀ NAV', un progess ir '10'%.\nKomandā prasībai '1232' atbildīgais ir 'Pēteris' un piešķirti ir 'Jānis, Liene'.\n\n\n  Jauna prasība '1233' 'Jāizveido DSL atpakaļ ģenerātors'.\n  Parametri prasībai '1233' ir tādi ka 'KONFLIKTU NAV', tā ir 'TEHNISKĀ', un progess ir '25'%.\n  Komandā prasībai '1233' atbildīgais ir 'Jānis' un piešķirti ir 'Jānis, Liene'.\n  Prasība '1233' ir zem '1232'.\n\nJauna prasība '1234' 'Jāizveido DSL vizualizātors'.\nParametri prasībai '1234' ir tādi ka 'KONFLIKTU NAV', tā ir 'TEHNISKĀ NAV', un progess ir '10'%.\nKomandā prasībai '1234' atbildīgais ir 'Pēteris' un piešķirti ir 'Jānis, Pēteris'.\n\n\n  Jauna prasība '1235' 'Jāizveido koka struktūra'.\n  Parametri prasībai '1235' ir tādi ka 'KONFLIKTU NAV', tā ir 'TEHNISKĀ NAV', un progess ir '0'%.\n  Komandā prasībai '1235' atbildīgais ir 'Jānis' un piešķirti ir 'Jānis, Pēteris'.\n  Prasība '1235' ir zem '1234'.\n\n    Jauna prasība '3335' 'Jāpielāgo koka dizains'.\n    Parametri prasībai '3335' ir tādi ka 'KONFLIKTU NAV', tā ir 'TEHNISKĀ NAV', un progess ir '50'%.\n    Komandā prasībai '3335' atbildīgais ir 'Pēteris' un piešķirti ir 'Pēteris'.\n    Prasība '3335' ir zem '1235'.\n\n    Jauna prasība '3336' 'Jāizdomā koka piemērs'.\n    Parametri prasībai '3336' ir tādi ka 'KONFLIKTU NAV', tā ir 'TEHNISKĀ NAV', un progess ir '0'%.\n    Komandā prasībai '3336' atbildīgais ir 'Pēteris' un piešķirti ir 'Jānis'.\n    Prasība '3336' ir zem '1235'.\n\n  Jauna prasība '1235' 'Jāizveido apakšpanelis'.\n  Parametri prasībai '1235' ir tādi ka 'KONFLIKTU NAV', tā ir 'TEHNISKĀ', un progess ir '50'%.\n  Komandā prasībai '1235' atbildīgais ir 'Jānis' un piešķirti ir 'Jānis, Pēteris'.\n  Prasība '1235' ir zem '1234'.\n\n",y=b,g=(r("xfY5"),r("rE2o"),r("ioFf"),r("rGqo"),r("KKXr"),function(){function e(t,r){Object(s["a"])(this,e),this.progress=0,this.isConflicting=!1,this.isTechnical=!1,this.responsible="",this.assigned=[],this.children=[],this.text="",this.description="",this.opened=!0,this.type="",this.id=t,this.about=r}return Object(p["a"])(e,[{key:"setTreeViewParametersRecursive",value:function(){if(this.type=this.isTechnical?"Tech":"Client",0===this.children.length)return this.assignTextParameters(),this.progress;var e=0,t=!0,r=!1,i=void 0;try{for(var a,n=this.children[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){var s=a.value;e+=s.setTreeViewParametersRecursive()}}catch(e){r=!0,i=e}finally{try{t||null==n.return||n.return()}finally{if(r)throw i}}return this.progress=e/this.children.length,this.assignTextParameters(),this.progress}},{key:"assignTextParameters",value:function(){this.text="".concat(this.id,": ").concat(this.about," | ").concat(Math.round(100*this.progress),"%"),this.description="".concat(this.id,": ").concat(this.about," | ").concat(Math.round(100*this.progress),"%<br/>"),this.description+="TEHNISKĀ: ".concat(this.isTechnical?"JĀ":"NĒ",",<br/> KONFLIKTĒJOŠA: ").concat(this.isConflicting?"JĀ":"NĒ","<br/>"),this.description+="ATBILDĪGS: ".concat(this.responsible,",<br/> KOMANDA: ").concat(this.assigned.join(", "))}}]),e}()),k=function(){function e(){Object(s["a"])(this,e),this.teamMemberPattern=/.*komandā[^']*'([^']*)'/,this.newItemPattern=/.*Jauna prasība[^']*'([^']*)'[^']*'([^']*)'/,this.itemParamsPattern=/.*Parametri prasībai[^']*'([^']*)'[^']*'([^']*)'[^']*'([^']*)'[^']*'([^']*)'/,this.itemTeamPattern=/.*Komandā prasībai[^']*'([^']*)'[^']*'([^']*)'[^']*'([^']*)'/,this.itemSetParentPattern=/.*'([^']*)'[^']*ir zem[^']*'([^']*)'/,this.noconflicts="KONFLIKTU NAV",this.conflicts="KONFLIKTU IR",this.technical="TEHNISKĀ",this.client="KLIENTA",this.patterns=[this.teamMemberPattern,this.newItemPattern,this.itemParamsPattern,this.itemTeamPattern,this.itemSetParentPattern]}return Object(p["a"])(e,[{key:"BuildPraMod",value:function(e){var t={members:[],items:[]},r=e.split("\n"),i=!0,a=!1,n=void 0;try{for(var s,o=r[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var l=s.value;if(""!==l.trim()){var u=!1,c=!0,d=!1,h=void 0;try{for(var m,p=this.patterns[Symbol.iterator]();!(c=(m=p.next()).done);c=!0){var v=m.value,f=v.exec(l);if(null!=f){this.AddStatementToModel(t,v,f),u=!0;break}}}catch(e){d=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(d)throw h}}if(!u)throw"no pattern matched the given line ".concat(l)}}}catch(e){a=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(a)throw n}}return t}},{key:"AddStatementToModel",value:function(e,t,r){switch(t){case this.teamMemberPattern:e.members.push(r[1]);break;case this.newItemPattern:e.items.push(new g(Number(r[1]),r[2]));break;case this.itemParamsPattern:var i=e.items[e.items.length-1];i.isConflicting=r[2]===this.conflicts,i.isTechnical=r[3]===this.technical,i.progress=Number(r[4])/100;break;case this.itemTeamPattern:var a=e.items[e.items.length-1];a.responsible=r[2],a.assigned=r[3].split(",").map(function(e){return e.trim()});break;case this.itemSetParentPattern:this.AssignChildItemToParent(e,r);break;default:throw"parser rule is not defined!"}}},{key:"AssignChildItemToParent",value:function(e,t){var r=e.items[e.items.length-1],i=Number(t[2]);e.items.splice(e.items.length-1,1);var a=!1,n=!0,s=!1,o=void 0;try{for(var l,u=e.items[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var c=l.value;if(this.SetParentItemRecursive(c,i,r)){a=!0;break}}}catch(e){s=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(s)throw o}}if(!a)throw"Failed to set parent for item ".concat(r.id," to parent ").concat(i)}},{key:"SetParentItemRecursive",value:function(e,t,r){if(e.id===t)return e.children.push(r),!0;var i=!1,a=!0,n=!1,s=void 0;try{for(var o,l=e.children[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var u=o.value;if(i=i||this.SetParentItemRecursive(u,t,r),i)break}}catch(e){n=!0,s=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw s}}return i}}]),e}(),T=function(){function e(){Object(s["a"])(this,e),this.itemRules=[this.itemMustHaveResponsible,this.itemMustHaveAssigned],this.modelRules=[this.cantHaveRootTechnical]}return Object(p["a"])(e,[{key:"ValidatePraMod",value:function(e){var t=!0,r=!1,i=void 0;try{for(var a,n=this.modelRules[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){var s=a.value;s(e)}}catch(e){r=!0,i=e}finally{try{t||null==n.return||n.return()}finally{if(r)throw i}}var o=!0,l=!1,u=void 0;try{for(var c,d=this.itemRules[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var h=c.value,m=!0,p=!1,v=void 0;try{for(var f,b=e.items[Symbol.iterator]();!(m=(f=b.next()).done);m=!0){var y=f.value;this.validateRecursive(y,h,this)}}catch(e){p=!0,v=e}finally{try{m||null==b.return||b.return()}finally{if(p)throw v}}}}catch(e){l=!0,u=e}finally{try{o||null==d.return||d.return()}finally{if(l)throw u}}return!0}},{key:"validateRecursive",value:function(e,t,r){var i=!0,a=!1,n=void 0;try{for(var s,o=e.children[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var l=s.value;this.validateRecursive(l,t,r)}}catch(e){a=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(a)throw n}}return t(e,r)}},{key:"itemMustHaveResponsible",value:function(e,t){return e.responsible||t.throwItemError(e,"does not have responsible team member"),!0}},{key:"itemMustHaveAssigned",value:function(e,t){return 1===e.assigned.length&&""===e.assigned[0].trim()&&t.throwItemError(e,"does not have assigned team members"),!0}},{key:"throwItemError",value:function(e,t){throw"validator error for ".concat(e.id," - ").concat(t)}},{key:"cantHaveRootTechnical",value:function(e){var t=!0,r=!1,i=void 0;try{for(var a,n=e.items[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){var s=a.value;if(s.isTechnical)throw"model can't have root technical"}}catch(e){r=!0,i=e}finally{try{t||null==n.return||n.return()}finally{if(r)throw i}}return!0}}]),e}(),P=function(){function e(){Object(s["a"])(this,e),this.builder=new k,this.validator=new T}return Object(p["a"])(e,[{key:"translate",value:function(e){var t,r=!1;try{t=this.builder.BuildPraMod(e),this.validator.ValidatePraMod(t)}catch(e){r=!0,t=e}var i={text:r?t:JSON.stringify(t,null,2),isErrorMsg:r,model:t};return i}}]),e}(),x=function(){function e(){Object(s["a"])(this,e),this.types=[{type:"Tech",icon:"far fa-hospital",max_children:10,max_depth:10},{type:"Client",icon:"far fa-user",max_children:10,max_depth:10}]}return Object(p["a"])(e,[{key:"process",value:function(e){var t=!0,r=!1,i=void 0;try{for(var a,n=e.items[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){var s=a.value;s.setTreeViewParametersRecursive()}}catch(e){r=!0,i=e}finally{try{t||null==n.return||n.return()}finally{if(r)throw i}}return e.items}}]),e}(),w=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.compiler=new P,e.treeLoader=new x,e.treeTypes=e.treeLoader.types,e.dslText=y.trim(),e.genText="",e.isError=!1,e.showTree=!1,e.treeData=null,e.openAll=!1,e.members=[],e.infoBox="",e}return Object(p["a"])(t,[{key:"display",value:function(){this.displayCompile(),this.displayVisual()}},{key:"displayCompile",value:function(){var e=this.compiler.translate(this.dslText);this.genText=e.text,this.isError=e.isErrorMsg,this.infoBox="",this.isError&&(this.showTree=!1)}},{key:"toggleVisual",value:function(){this.showTree=!this.showTree,this.displayVisual()}},{key:"displayVisual",value:function(){if(this.showTree){var e=this.compiler.translate(this.dslText).model;this.members=e.members,this.treeData=this.treeLoader.process(e)}else this.treeData=null}},{key:"mounted",value:function(){this.displayCompile(),this.toggleVisual()}},{key:"selected",value:function(e){var t=e.model;this.infoBox=t.description}}]),Object(o["a"])(t,e),t}(d["b"]);w=c["a"]([Object(d["a"])({components:{VTreeview:f.a}})],w);var K=w,N=K,S=(r("AbHP"),r("KHd+")),O=Object(S["a"])(N,h,m,!1,null,"2eefa8a6",null),j=O.exports,I=function(e){function t(){return Object(s["a"])(this,t),Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),t}(d["b"]);I=c["a"]([Object(d["a"])({components:{Generator:j}})],I);var J=I,A=J,_=(r("ZL7j"),Object(S["a"])(A,a,n,!1,null,null,null)),E=_.exports;i["default"].config.productionTip=!1,new i["default"]({render:function(e){return e(E)}}).$mount("#app")}});
//# sourceMappingURL=app.87749bb0.js.map